<!-- <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Callback</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <script src="oidc-client.min.js" type="application/javascript"></script>
  </head>

  <body>
    <script>
      var Oidc = window.Oidc;

      var hash = window.location.hash.substr(1);

      var result = hash
        .substring(hash.indexOf('?') + 1)
        .split('&')
        .reduce(function (r, item) {
          var parts = item.split('=');
          r[parts[0]] = parts[1];
          return r;
        }, {});
      accessTokenObj = parseJwt(result.access_token);
      if (!!accessTokenObj['ccx.emailDomain'] && !!accessTokenObj['ccx.tenant'] && !!accessTokenObj['ccx.userRole']) {
        window.localStorage.setItem(
          'oidc.92b7d6c791e3431f973aebb31f39a31e',
          '{"id":"92b7d6c791e3431f973aebb31f39a31e","nonce":"d36a1a893cbf47c8b57dbca433f5d767","authority":"https://login-stage.cargoclix.com/","client_id":"ccx.wfm","response_mode":null,"scope":"openid profile ccx.wfm.api"}'
        );
      }
      var config = {
        userStore: new Oidc.WebStorageStateStore({ store: window.localStorage })
      };
      if (Oidc && Oidc.Log && Oidc.Log.logger) {
        Oidc.Log.logger = console;
      }
      var isPopupCallback = JSON.parse(window.localStorage.getItem('ngoidc:isPopupCallback'));
      if (isPopupCallback) {
        new Oidc.UserManager(config).signinPopupCallback();
      } else {
        new Oidc.UserManager(config).signinRedirectCallback().then((t) => {
          window.location.href = '/';
        });
      }
      function parseJwt(token) {
        var base64Url = token.split('.')[1];
        var base64 = base64Url.replace('-', '+').replace('_', '/');
        return JSON.parse(window.atob(base64));
      }
    </script>
  </body>
</html> -->
