<div class="row">
  <div class="col-lg-12">
    <mat-expansion-panel class="mat-elevation-z0 mb-3">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <h4>{{ 'Print Preview Settings' | translate }}</h4>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-form-field appearance="outline">
        <mat-label>{{ 'Select Workflow' | translate }}</mat-label>
        <mat-select [formControl]="workflowSelector">
          <mat-option *ngFor="let wf of workflowsList" [value]="wf.id">
            {{ wf.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-card class="outline mat-elevation-z0 m-b-16">
        <mat-card-content>
          <h5>{{ 'Case Print Preview Fields Visibility Setting' | translate }}</h5>
          <div class="row">
            <div *ngIf="datasourceFieldsTree">
              <app-tree-selectbox
                [parentSelectionAllowed]="true"
                [selectedItems]="selectedItems"
                [rawDatasource]="datasourceFieldsTree"
                (selectionEmitter)="fieldSelectionEmitted($event)"
              ></app-tree-selectbox>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <div class="mat-expansion-panel-footer">
        <button [disabled]="workflowSelector.invalid" mat-flat-button color="primary" (click)="onSubmit()">
          <app-icon [name]="'save'"></app-icon>
          {{ 'Save' | translate }}
        </button>
      </div>
    </mat-expansion-panel>
  </div>
</div>
